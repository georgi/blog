<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Matthias Georgi - Building a del.ico.us and flickr sidebar in 5 minutes</title>
    <meta http-equiv="Content-Language" content="English" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/matthias-georgi" />
    <link rel="stylesheet" href="../../stylesheets/all.css?1220966387" media="screen"></link>
<link rel="stylesheet" href="../../stylesheets/style.css?1220965122" media="screen"></link>
    <script>var Blog = { root: '../../', guid: '9dba5160-5d6c-012b-b53a-001a92975b89' };</script>
  </head>
  <body>
    <div class="container">

      <div id="header" class="column span-20 last">
	<h1><a href="../../index.html">Matthias Georgi</a></h1>
	<h2>Webdev, Gamedev, Interaction Design</h2>
      </div>

      <div id="navi"  class="column span-20 last">
	<ul>
	  <li><a class="" href="../../index.html">Home</a></li>
	  
	    <li><a class="active" href="../../categories/ruby.html">Ruby</a></li>
	  
	    <li><a class="" href="../../categories/javascript.html">Javascript</a></li>
	  
	    <li><a class="" href="../../categories/emacs.html">Emacs</a></li>
	  
	  <li><a class="" href="../../about.html">About</a></li>
	</ul>
      </div>

      
	<div id="header-text" class="column span-20 last">
	  <h1>Ruby</h1>
	</div>
      

      <div class="content column span-15"> 
	<div class="article">

  <div class="date">
    April 8, 2007
  </div>

  <h2>Building a del.ico.us and flickr sidebar in 5 minutes</h2>  

  <p>You need a del.icio.us sidebar which shows recent bookmarks or one of
these nice flickr badges? This is really is easy as the <a href="http://trac.typosphere.org/">Typo Weblog
Engine</a> already includes an flickr and del.icio.us aggregator.</p>

<p>Download the files <a href="http://trac.typosphere.org/browser/trunk/vendor/plugins/delicious_sidebar/lib/delicious.rb?format=raw">delicous.rb</a> and <a href="http://trac.typosphere.org/browser/trunk/vendor/plugins/flickr_sidebar/lib/flickr.rb?format=raw">flickr.rb</a> and drop them
into your rails lib folder.</p>

<p>Now add these two little helpers to your application_helper.rb:</p>

<pre><code>require 'delicious'
require 'flickr'

def delicious(tag)
  Delicious.new("http://del.icio.us/rss/tag/#{tag}")
end

def flickr(tag)
  url = "http://api.flickr.com/services/feeds/photos_public.gne?"
  url &lt;&lt; "tags=#{tag}&amp;format=rss_200"
  FlickrAggregation.new(url)
end
</code></pre>

<p>We are now able to fetch the feeds for our desired tags with a simple
method call. Next step is to render a list of links for our
sidebar. So for rendering the del.icio.us sidebar, you need something
like this:</p>

<pre><code>&lt;ul&gt;
  &lt;% for item in delicious(:ruby).items[0, 10] %&gt;
    &lt;li&gt;
      &lt;%= link_to item.title, item.link %&gt;
    &lt;/li&gt;
  &lt;% end %&gt;
&lt;/ul&gt;
</code></pre>

<p>This is pretty self-explanatory. We take the first ten items of the
del.icio.us feed and for each item we output a list element containing
a link to the item. The view for the flickr badge is similar:</p>

<pre><code>&lt;ul&gt;
  &lt;% for item in flickr(:ruby).pics[0, 10] %&gt;
   &lt;%= image_tag item.square, :size =&gt; '48x48' %&gt;
  &lt;% end %&gt;
&lt;/ul&gt;
</code></pre>

<p>We take the first ten items of the flickr feed and for each item we
render an image tag which shows a square thumbnail of the size
48x48. Congratulations, you have just written a del.icio.us and flickr
sidebar in 5 minutes using only 18 lines of code. Now you can spend
the rest of the day pimping up your sidebar with all kinds of feeds
using one of these plugins of the typo weblog.</p>

  <hr/>

  <div style="padding-bottom:40px">
    <script type="text/javascript">
      if (typeof window.Delicious == "undefined") window.Delicious = {};
      Delicious.BLOGBADGE_DEFAULT_CLASS = 'delicious-blogbadge-line';
    </script>
    <script src="http://static.delicious.com/js/blogbadge.js"></script>
  </div>

  <h2>Comments</h2>

  <div class="comments-loading" style="display:none">
    <img src="../../images/loading.gif"></img>
    Loading Comments...
  </div>

  <div class="comments">  
    <div id="comments-template">
      <div class="comment">
	<div class="_ top">
	  <a class="_" href="{website}">{name}</a> said
	  <a class="_" title="{time}"></a>:
	</div>
	<div class="text"></div>
      </div>
    </div>
  </div>

  <hr/>  

  <div class="comment-form-loading" style="display:none">
    <img src="../../images/loading.gif"></img>
    Posting Comment...
  </div>

  <div class="comment-form">
    <h4>Leave a comment</h4>
    <form>
      <input type="hidden" name="guid" value="9dba5160-5d6c-012b-b53a-001a92975b89"/>
      <p>
	<label>Name</label><br/>
	<input type="text" name="name" size="40"/>
      </p>
      <p>
	<label>Website</label><br/>
	<input type="text" name="website"  size="40"/>
      </p>
      <p>
	<label>Comment (Use markdown for formatting)</label><br/>
	<textarea name="text" cols="60" rows="10"></textarea>
      </p>
      <p>
	<input type="submit" value="Post comment"/>
      </p>
    </form>
  </div>
</div>



      </div>

      <div class="right column span-5 last"> 

	<h4>Subscribe</h4>

	<p>
	  <a href="http://feeds.feedburner.com/matthias-georgi" rel="alternate" type="application/rss+xml">
	    <img src="../../images/rss.png"></img>
	    <img src="http://feeds.feedburner.com/~fc/matthias-georgi?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88"/>
	  </a>
	  <br/>
	  <a href="http://www.feedburner.com/fb/a/emailverifySubmit?feedId=2408112&amp;loc=en_US">
	    or subscribe by email
	  </a>
	</p>
	  
	<h4>About</h4>

	<div class="about">
	  Matthias Georgi lives in
	  <em>Darmstadt, Germany</em> and works as a freelance
	  software developer.
	  <a href="../../about.html">read more</a>
	</div>

	<h4>Archives</h4>

	<ul>
	  
	    <li><a href="../../2007/4/index.html">April 2007</a></li> 
	  
	    <li><a href="../../2007/5/index.html">May 2007</a></li> 
	  
	    <li><a href="../../2008/9/index.html">September 2008</a></li> 
	  
	</ul>

	<h4>Recent posts</h4>

	<ul>
	  
	    <li><a href="../../2008/9/patroon-a-javascript-template-engine.html">Patroon - a Javascript Template Engine</a></li> 
	  
	    <li><a href="../../2008/9/commenting-system-with-lightweight-json-store.html">Commenting system with lightweight JSON store</a></li> 
	  
	    <li><a href="../../2008/9/shinmun-a-small-and-beautiful-blog-engine.html">Shinmun, a small and beautiful blog engine</a></li> 
	  
	    <li><a href="../../2008/9/emacs-completions.html">Emacs Completions with Hippie-Expand and Snippets</a></li> 
	  
	    <li><a href="../../2007/5/google-like-search-results-helper.html">Google-like Search Results Helper</a></li> 
	  
	</ul>

	<h4>My Projects</h4>

	<ul>
	  <li>
	    <a href="http://github.com/georgi/shinmun/tree/master">
	      Shinmun at github
	    </a>
	  </li>
	  <li>
	    <a href="http://www.matthias-georgi.de/2008/9/shinmun-a-small-and-beautiful-blog-engine.html">
	      Shinmun description
	    </a>
	  </li>
	</ul>

	<h4>My Music</h4>

	<ul>
	  <li>
	    <a href="http://www.p-ersag.com">
	      Planet Ersag
	    </a>
	  </li>
	</ul>

      </div>
    </div>

    <script type="text/javascript" src="../../javascripts/all.js?1220966387"></script>
<script type="text/javascript" src="../../javascripts/showdown.js?1205881696"></script>
<script type="text/javascript" src="../../javascripts/template.js?1220960964"></script>
<script type="text/javascript" src="../../javascripts/default.js?1220656864"></script>
<script type="text/javascript" src="../../javascripts/comments.js?1220887453"></script>
<script type="text/javascript" src="../../javascripts/wmd.js?1205881696"></script>

    
      <script type="text/javascript" src="../../javascripts/highlight.js?1220965535"></script>
      <script type="text/javascript">
	hljs.initHighlightingOnLoad('ruby','html');
      </script>
    

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-927203-10");
      pageTracker._trackPageview();
    </script> 

  </body>
</html>
